% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cr_cox.R
\name{CRModel_Cox}
\alias{CRModel_Cox}
\title{CRModel_Cox}
\usage{
CRModel_Cox(
  data,
  expvars,
  timevar,
  eventvar,
  event_codes = NULL,
  varsel = "none",
  penalty = "AIC",
  alpha = 0.5,
  nfolds = 10,
  ntimes = 50,
  verbose = FALSE
)
}
\arguments{
\item{data}{data frame with explanatory and outcome variables}

\item{expvars}{character vector of names of explanatory variables in data}

\item{timevar}{character name of time variable in data}

\item{eventvar}{character name of event variable in data (coded 0=censored, 1=cause1, 2=cause2, etc.)}

\item{event_codes}{character vector of event codes for which to fit models.
If NULL (default), fits a model for each event type found in the data.
Codes are stored as character strings for downstream consistency.}

\item{varsel}{character string specifying variable selection method:
"none" (default, no selection),
"backward" (backward elimination),
"forward" (forward selection),
"both" (stepwise selection),
"penalized" (elastic net penalized Cox via glmnet)}

\item{penalty}{character string specifying penalty criterion for stepwise methods: "AIC" (default) or "BIC"}

\item{alpha}{numeric value in [0,1] for elastic net mixing parameter when varsel="penalized".
alpha=1 is lasso, alpha=0 is ridge, alpha=0.5 (default) is elastic net.}

\item{nfolds}{integer, number of cross-validation folds for penalized Cox (default: 10)}

\item{ntimes}{integer, number of time points to use for prediction grid (default: 50)}

\item{verbose}{logical, print progress messages (default: FALSE)}
}
\value{
a list with the following components:
  \item{cph_models_all_causes}{named list of fitted cause-specific Cox model objects for each event code}
  \item{times}{vector of unique event times in the training data}
  \item{varprof}{variable profile list containing factor levels and numeric ranges}
  \item{model_type}{character string "cr_cox"}
  \item{expvars}{character vector of explanatory variables used}
  \item{timevar}{character name of time variable}
  \item{eventvar}{character name of event variable}
  \item{event_codes}{vector of event codes for which models were fitted}
  \item{varsel_method}{character string indicating variable selection method used}
  \item{time_range}{vector with min and max observed event times}
  \item{alpha}{numeric value of elastic net mixing parameter used (if varsel="penalized")}
  \item{nfolds}{integer number of cross-validation folds used (if varsel="penalized")}
}
\description{
Fit a cause-specific Cox model for competing risks outcomes with optional variable selection.
}
\examples{
\dontrun{
# Fit cause-specific Cox model without variable selection
model1 <- CRModel_Cox(data, expvars = c("x1", "x2"),
                     timevar = "time", eventvar = "event")

# Fit with backward selection (AIC)
model2 <- CRModel_Cox(data, expvars = c("x1", "x2", "x3"),
                     timevar = "time", eventvar = "event",
                     varsel = "backward", penalty = "AIC")

# Fit with forward selection (BIC)
model3 <- CRModel_Cox(data, expvars = c("x1", "x2", "x3"),
                     timevar = "time", eventvar = "event",
                     varsel = "forward", penalty = "BIC")
}
}
